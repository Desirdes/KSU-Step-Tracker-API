<!--Sidebar Menu-->
<div class="sidenav">
    <app-sidenav></app-sidenav>
</div>

<!--Success Alert-->
<div class="container">
    <div *ngIf="alert" class="alert alert-success alert-dismissible fade show" role="alert">
        <strong>Success! Your steps have been saved.</strong>
        <button type="button" (click)="closeAlert" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

    <!--Main Form-->
    <div class="row justify-content-center my-5">
        <form [formGroup]="addStepsForm" (ngSubmit)="addStepsForm.status !== 'INVALID' && onSubmit()">
            <i class="material-symbols-outlined">directions_run</i>
            <h2 class="mb-3">+ Add Steps</h2>
            <div class="form-row justify-content-center">
                <div class="form-group col-sm-4">
                    <label for="steps">Steps</label>
                    <input type="number" id="steps" formControlName="steps" [ngClass]="{error : getControl('steps')?.errors && getControl('steps')?.touched}" name="steps">
                    <div *ngIf="getControl('steps')?.errors && getControl('steps')?.touched">
                        <small class="text-danger" *ngIf="getControl('steps')?.errors?.['required']">Steps is required</small>
                    </div>
                </div>
            </div> <div class="form-row justify-content-center">
                <div class="form-group col-lg-5">
                    <label for="date">Date</label>
                    <mat-form-field class="example-full-width" appearance="fill">
                        <mat-label>Choose a date</mat-label>
                        <input id="date" matInput [min]="minDate" [max]="maxDate" formControlName="date" [ngClass]="{error : getControl('steps')?.errors && getControl('steps')?.touched}" [matDatepicker]="picker">
                        <mat-hint>MM/DD/YYYY</mat-hint>
                        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                    </mat-form-field>
                    <div *ngIf="getControl('date')?.errors && getControl('date')?.touched">
                        <small class="text-danger" *ngIf="getControl('date')?.errors?.['required']">Date is required</small>
                    </div>
                </div>
            </div>
            <button class="btn btn-dark" id="submit" type="submit" [disabled]="addStepsForm.status === 'INVALID'">Save</button>
            <!--<button class="btn btn-light" id="goBack" type="submit" >Go Back</button>-->
        </form>
    </div>
</div>
